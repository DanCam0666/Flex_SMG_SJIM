@model IEnumerable<Flex_SGM.Models.Proyectos>

@{
    ViewBag.Title = "Index";
}

<style>


    body {
        margin: 40px 10px;
        padding: 0;
        font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
        font-size: 14px;
    }

    #calendar {
        max-width: 900px;
        margin: 0 auto;
    }
</style>

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Maquinas.Area)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.User_gen)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DiaHora)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Tipo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Que)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Porque)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Paraque)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Paraquien)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Donde)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Cuando)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Conquien)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.conque)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Como)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DiaHora_Cierre)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DiaHora_Verificado)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Usuario_Verifico)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Comentarios)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.urgente)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Estatus)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Maquinas.Area)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.User_gen)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DiaHora)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Tipo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Que)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Porque)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Paraque)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Paraquien)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Donde)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Cuando)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Conquien)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.conque)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Como)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DiaHora_Cierre)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DiaHora_Verificado)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Usuario_Verifico)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Comentarios)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.urgente)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Estatus)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id = item.ID }) |
                @Html.ActionLink("Details", "Details", new { id = item.ID }) |
                @Html.ActionLink("Delete", "Delete", new { id = item.ID })
            </td>
        </tr>
    }

</table>

<div class="x_panel col-xs-6">
    <div id='calendar'></div>
</div>
<div class="col-xs-6">
    nose nada
</div>
@section Scripts {
    <script>
        
        $(document).ready(function () {
            var calendarEl = document.getElementById('calendar');

                var calendar = new FullCalendar.Calendar(calendarEl, {
      plugins: [ 'interaction', 'dayGrid', 'timeGrid', 'list' ],
      header: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
      },
       defaultDate: '2020-02-12',
       locale:'es',
      navLinks: true, // can click day/week names to navigate views
      selectable: true,
                    selectMirror: true,
      select: function(arg) {
        var title = prompt('Titulo de Actividad:');
        if (title) {
          calendar.addEvent({
            title: title,
            start: arg.start,
            end: arg.end,
            allDay: arg.allDay
          })
        }
        calendar.unselect()
                    },
                  weekNumbers: true,
      weekNumbersWithinDays: true,
      weekNumberCalculation: 'ISO',
      editable: true,
      eventLimit: true, // allow "more" link when too many events
      events: [
        {
          title: 'Chambear bien Durote',
          start: '2020-02-01'
        }
      ]
    });


    calendar.render();

        		});
</script>
}
