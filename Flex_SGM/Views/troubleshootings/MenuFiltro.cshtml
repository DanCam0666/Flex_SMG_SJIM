@model IEnumerable<Flex_SGM.Models.troubleshooting>
@using Flex_SGM.Models;

@{
    ViewBag.Title = "Menu";
}

<h2>Menu de Seleccion</h2>
<div class="row clearfix">
    <center> @{Html.RenderPartial("_Result");}</center>
</div>
<div class="x_panel clearfix">
    <div class="x_title clearfix">
        <row class="col-xs-offset-4 col-xs-4">
            @using (Html.BeginForm(routeValues: new { maquina = "Maquinas" }))
            {
                @Html.DropDownList("Maquinas", null, htmlAttributes: new { @class = "form-control", id = "Normaldrop" })

            }
        </row>
        <br />
        <br />
        <row class="col-xs-offset-4 col-xs-4">
            <center>
                @Html.ActionLink("Crear Nuevo Registro", "Create", null, new { @class = "btn btn-success" })
                @Html.ActionLink("Troubleshooting", "Menu", "troubleshootings", null, htmlAttributes: new { @class = "btn btn-default" })
            </center>
        </row>

    </div>
    <div class="x_content clearfix">
        <table class="table" id="truble">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.Maquinas.SubMaquina)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.DiaHora)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.usuario)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Problema)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Posiblerazon)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Solucion)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Comentarios)
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Maquinas.SubMaquina)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.DiaHora)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.usuario)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Problema)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Posiblerazon)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Solucion)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Comentarios)
                        </td>
                        <td>

                            @Html.ActionLink("Edit", "Edit", new { id = item.ID }, new { @class = "btn  btn-warning", @target = "_blank" }) |
                            @Html.ActionLink("Details", "Details", new { id = item.ID }, new { @class = "btn  btn-default", @target = "_blank" }) |
                            @Html.ActionLink("Delete", "Delete", new { id = item.ID }, new { @class = "btn  btn-danger", @target = "_blank" })
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

</div>




@section Scripts {

    <script>
        $('#Normaldrop').change(function () {
            $(this).parents('form').submit();
        });
        $(document).ready(function () {


            $('[data-toggle="tooltip"]').tooltip();
            $("#Normaldrop").chosen();

            $('#truble').DataTable({
                "dom": 'lBfrtip',
                "lengthMenu": [[5, 15, 50, -1], ["5", "15", "50", "Todos"]],
                "buttons": ['copy', 'csv', 'print', 'pdf', 'excel'],
                "order": [[0, "desc"]],
                "scrollX": true,
                "language": {
                    "sProcessing": "Procesando...",
                    "sLengthMenu": "Mostrar _MENU_ registros",
                    "sZeroRecords": "No se encontraron resultados",
                    "sEmptyTable": "Ningun dato disponible en esta tabla =(",
                    "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                    "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                    "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                    "sInfoPostFix": "",
                    "sSearch": "Buscar:",
                    "sUrl": "",
                    "sInfoThousands": ",",
                    "sLoadingRecords": "Cargando...",
                    "oPaginate": {
                        "sFirst": "Primero",
                        "sLast": "ultimo",
                        "sNext": "Siguiente",
                        "sPrevious": "Anterior"
                    },
                    "oAria": {
                        "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                    },
                    "buttons": {
                        "copy": "Copiar",
                        "colvis": "Visibilidad"
                    }
                }
            });
        });
    </script>

}