@model Flex_SGM.Models.OILs

@{
    ViewBag.Title = "Detalles";
}

<h2>Detalles</h2>
<div class="x_panel">
    <div class="x_title">
        <h3>Proyecto/Actividad Generado por:@Html.DisplayFor(model => model.User_gen) | Responsabilidad de: @Html.DisplayFor(model => model.User_res) | Realizada por: @Html.DisplayFor(model => model.User_asig)</h3>
    </div>
    <div class="x_content">
        <dl class="col-md-4">
            <dt>
                @Html.DisplayNameFor(model => model.Maquinas.Area)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Maquinas.Area)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Maquinas.Cliente)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Maquinas.Cliente)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Maquinas.Maquina)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Maquinas.Maquina)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Actividad)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Actividad)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.DiaHora)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.DiaHora)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.User_gen)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.User_gen)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.DiaHora_Compromiso)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.DiaHora_Compromiso)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.User_res)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.User_res)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.DiaHora_Cierre)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.DiaHora_Cierre)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.User_asig)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.User_asig)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.DiaHora_Verificado)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.DiaHora_Verificado)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Comentarios)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Comentarios)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Comentarios2)

            </dt>
            <dd>
                @Html.DisplayFor(model => model.Comentarios2)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Material_necesario)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Material_necesario)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Estatus)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Estatus)
            </dd>

        </dl>
        <div class="col-md-8">
            <!-- Basic Example -->
            <div class="col-lg-6 col-md-6 col-sm-12 col-md-12">
                <div class="x_panel">
                    <div class="x_title">
                        <center> Evidencia Antes</center>
                    </div>
                    <div class="x_content">
                        <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                            <!-- Indicators -->
                            <ol class="carousel-indicators">
                                <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                                <li data-target="#carousel-example-generic" data-slide-to="1"></li>
                                <li data-target="#carousel-example-generic" data-slide-to="2"></li>
                            </ol>

                            <!-- Wrapper for slides -->
                            <div class="carousel-inner" role="listbox">
                                @{int i = 0;
                                    string path = Path.Combine(Server.MapPath("~/Evidence"), "before", @Model.ID.ToString());
                                    string path2 = Path.Combine("../../Evidence", "before", @Model.ID.ToString());

                                    DirectoryInfo Folder;
                                    FileInfo[] Images;
                                    if (Directory.Exists(path))
                                    {
                                        Folder = new DirectoryInfo(path);
                                        Images = Folder.GetFiles();
                                        List<String> imagesList = new List<String>();

                                        for (int ii = 0; ii < Images.Length; ii++)
                                        {
                                            imagesList.Add(String.Format(@"{0}\{1}", path2, Images[ii].Name));
                                            // Console.WriteLine(String.Format(@"{0}/{1}", folderName, Images[i].Name));
                                        }
                                        foreach (var item in imagesList)
                                        {
                                            i++;
                                            var active = i == 1 ? "active" : "";
                                            if (item.ToLower().Contains("jpg") || item.ToLower().Contains("jpeg") || item.ToLower().Contains("png") || item.ToLower().Contains("bmp"))
                                            {
                                                                <div class="item @active">
                                                                    <img src="@Url.Content(@item)">
                                                                    <br />
                                                                    <hr />
                                                                    <br />
                                                                    <hr />
                                                                    @Html.ActionLink("Borra de inmediato **Borrar archivo o imagen", "deleteFile", "OILs", new { link = item }, null)
                                                                </div>
                                            }
                                            else
                                            {
                                                <div class="item @active">
                                                    <center>
                                                        @Html.ActionLink(@item, "Download", "OILs", new { link = item }, null)
                                                        <br />
                                                        <hr />
                                                        <br />
                                                        <hr />
                                                        @Html.ActionLink("Borra de inmediato **Borrar archivo o imagen", "deleteFile", "OILs", new { link = item }, null)
                                                    </center>
                                                </div>
                                            }
                                        }
                                    }
                                }
                            </div>

                            <!-- Controls -->
                            <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Basic Example -->
            <div class="col-lg-6 col-md-6 col-sm-12 col-md-12">
                <div class="x_panel">
                    <div class="x_title">
                        <center> Evidencia Después</center>
                    </div>
                    <div class="x_content">
                        <div id="carousel-example-generic1" class="carousel slide" data-ride="carousel">
                            <!-- Indicators -->
                            <ol class="carousel-indicators">
                                <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                                <li data-target="#carousel-example-generic" data-slide-to="1"></li>
                                <li data-target="#carousel-example-generic" data-slide-to="2"></li>
                            </ol>

                            <!-- Wrapper for slides -->
                            <div class="carousel-inner" role="listbox">
                                @{ i = 0;
                                    path = Path.Combine(Server.MapPath("~/Evidence"), "after", @Model.ID.ToString());
                                    path2 = Path.Combine("../../Evidence", "after", @Model.ID.ToString());

                                    if (Directory.Exists(path))
                                    {
                                        Folder = new DirectoryInfo(path);
                                        Images = Folder.GetFiles();
                                        List<String> imagesList = new List<String>();

                                        for (int ii = 0; ii < Images.Length; ii++)
                                        {
                                            imagesList.Add(String.Format(@"{0}\{1}", path2, Images[ii].Name));
                                            // Console.WriteLine(String.Format(@"{0}/{1}", folderName, Images[i].Name));
                                        }
                                        foreach (var item in imagesList)
                                        {
                                            i++;
                                            var active = i == 1 ? "active" : "";
                                            if (item.ToLower().Contains("jpg") || item.ToLower().Contains("jpeg") || item.ToLower().Contains("png") || item.ToLower().Contains("bmp"))
                                            {
                                                                <div class="item @active">
                                                                    <img src="@Url.Content(@item)">
                                                                    <br />
                                                                    <hr />
                                                                    <br />
                                                                    <hr />
                                                                    @Html.ActionLink("Borra de inmediato **Borrar archivo o imagen", "deleteFile", "OILs", new { link = item }, null)
                                                                </div>
                                            }
                                            else
                                            {
                                                <div class="item @active">
                                                    <center>
                                                        @Html.ActionLink(@item, "Download", "OILs", new { link = item }, null)
                                                        <br />
                                                        <hr />
                                                        <br />
                                                        <hr />
                                                        @Html.ActionLink("Borra de inmediato **Borrar archivo o imagen", "deleteFile", "OILs", new { link = item }, null)
                                                    </center>
                                                </div>
                                            }
                                        }
                                    }
                                }
                            </div>

                            <!-- Controls -->
                            <a class="left carousel-control" href="#carousel-example-generic1" role="button" data-slide="prev">
                                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="right carousel-control" href="#carousel-example-generic1" role="button" data-slide="next">
                                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

        </div>


        <p class="row">
            @*Html.ActionLink("Edit", "Edit", new { id = Model.ID }) |*@
            @Html.ActionLink("Regresar <=", "Index")
        </p>
    </div>
</div>